<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div>
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>
    </div>
    <div class="result"></div>
    <script>
        //store score
        let you = 0;
        let computer = 0;

        const resultShow = document.querySelector('.result');
        //players choice depending on button click
        const buttons = document.querySelectorAll('button');
        buttons.forEach(button => {
            button.addEventListener('click', function() {
                playRound(button.className);
            });
        });
                
        //randomly returns rock, paper or scissors as the computers(opponent) choice
        function getComputerChoice() {
            const pick = ["rock", "paper", "scissors"]
            return pick[Math.floor(Math.random() * pick.length)];
        }

        function disableButtons() {
            buttons.forEach(button => {
                button.disabled = true
            })
        }
        
        //play a single round of the game - players can input their choice
        function playRound(playerSelection) {
            let computerSelection = getComputerChoice();
            
            if((playerSelection == "rock" && computerSelection == "paper") || (playerSelection == "paper" && computerSelection == "scissors") || (playerSelection == "scissors" && computerSelection === "rock")) {
                computer += 1;
                resultShow.innerHTML = ('You lose ' + computerSelection + ' beats ' + playerSelection + '<br><br>Players score: ' + you + ' Computer score: ' + computer);                
               if (computer == 5) {
                resultShow.innerHTML = ('<br><br>I won the game, reload the page to play again');
                disableButtons();
                }
             }
            else if((playerSelection == computerSelection)) {
                resultShow.innerHTML = ("It's a draw" +  '<br><br>Players score: ' + you + ' Computer score: '  + computer);
                }
            else {
                you += 1;
                resultShow.innerHTML = ('You win ' + playerSelection + ' beats ' + computerSelection + '<br><br>Players score: ' + you + ' Computer score: ' + computer);  
                if (you == 5) {
                resultShow.innerHTML = ('<br><br>You won the game! Reload the page to play again')
                disableButtons();
            }   
            
            } 
        } 
            
                                
    </script>
    
</body>
</html>